{"/":{"title":"Project Ideas","content":"\n1. [诗经](notes/诗经.md)\n2. [动物园里有什么](notes/动物园里有什么.md)\n","lastmodified":"2022-06-26T02:31:39.233598853Z","tags":null},"/notes/%E5%8A%A8%E7%89%A9%E5%9B%AD%E9%87%8C%E6%9C%89%E4%BB%80%E4%B9%88":{"title":"","content":"动物园里有什么的核心是节奏，配合『咚咚啪啪』的节奏说出动物是游戏上瘾的地方。节奏逐渐加快会增加紧张感，产生兴奋感。但是速度不可能无限加快，一般很快就会出现反应不及时或者有争议的情况，会打断兴奋的过程，还可能有负面情绪积累。\n\n### 为了产生持续的兴奋感，加入两个机制\n- **重设关键词**\n\t- 设定三个数字作为目标，连续三次分别说出对应字数的词的人达成这个目标。达成目标的人能够重置关键词，从动物园变更为别的关键词。同时也会减慢节奏。\n- **机械判定**\n    - 由程序自动判定词是不是合格，避免争论的打断，还可以把争论转化成共同吐槽。\n\n### 为了强化节奏感，做出以下设定\n- 背景要一直有拍手声。\n- 因为线上大家是分开的，并且要打字输入，每个人的回合都会播放『动物园里有什么』和一段单纯的拍手。既增强参与感，又留出足够的时间。\n- 重置关键词之后节奏不会减到一开始最慢的程度，应该有更高的下限。\n- 画面要配合节奏有一定动作\n\n## 技术设计\n#### 前端\n##### 界面\n- 居中设计\n- 主要元素从上到下\n\t- 关键词: **动物园**里有什么\n\t- 目标数字: 不超过4\n\t- 一个指示图标: 随节奏动作，轮到自己的时候指向下方，不然指向右边\n\t- 词的记录: 狮子→老虎-\u003e???\n\t- 输入框: 不需要提交按钮，到时间自动提交\n##### 程序\n- 尽量减少网络交互\n- 背景音提前生成，重置关键词之后重新生成，可以播放特效拖时间。尽量使用离线TTA库。\n- 时间到时提交输入框内容到搜索API，判断结果数量是否达到阈值。所有判断要在『啪啪』的时间内完成。\n- 界面变化应该保持节奏，其他人的答案更新是需要是异步的。\n\n#### 后端\n##### `/room/\u003croomid\u003e`\n\n#### `/room/\u003croomid\u003e/setting`\n\n#### `/room/\u003croomid\u003e/new_word`\n\n#### `/room/\u003croomid\u003e/submit`\n\n#### `/room/\u003croomid\u003e`\n\n#### `/room/\u003croomid\u003e`","lastmodified":"2022-06-26T02:31:39.233598853Z","tags":null},"/notes/%E8%AF%97%E7%BB%8F":{"title":"","content":"# 设计文档\n```toc\n```\n\n## 总纲\n本网站的目的是从诗经中找到自己感兴趣的字或者词，用来辅助取名。因此字词的分解和说明是必要的，另外让用户发现和了解自己对字词的兴趣也是重要内容。\n\n## 页面设计\n### 首页(index)\n首页应该提供给没接触过诗经的人一个探索式的入口，同时给已经熟悉此网站的人提供快捷跳转到感兴趣页面的入口。\n\n**探索式入口思路：**\n\n诗经分为国风、大雅、小雅、颂四卷。国风主题为各地民生民风，大雅为王室歌颂祖先，小雅为士族生活，颂为各朝礼乐。每卷又分为多个章，由地域、朝代等划分。由卷和章作为探索式的入口应该是合适的，用户可以加深对诗经主题的了解，总计30章左右的数量也不会过大。\n- 卷-章 两层筛选\n- 卷分为风、雅、颂\n- 点击每卷之后会展开对应的章选项，隐藏其它选项\n- 点击每卷之后在内容部分应该显示卷的主题说明\n- 点击每章之后会在内容部分显示诗\n- 点击每章之后在内容部分应该显示章的主题说明\n\n**快捷式入口思路：**\n\n如果用户已经熟悉网站和诗经主题，两层筛选虽然也可以作为快捷入口，但还是有些繁琐，而且网站缺乏主题之外的兴趣点。对此，应该加入搜索功能。搜索条件包括诗名、诗中关键词、主题或者风格的标签。\n- 在两层筛选下放置搜索栏\n- 搜索栏匹配到的结果应该动态展示\n- 匹配不同条件得到的结果应该有所区分\n- 要能够限制搜索条件\n- 要能够配合两层筛选\n- 所有筛选和限制要能开关和清空\n\n### 诗页面(shi/\\\u003cid\u003e)\n诗经中的诗大多不长，多数为4字半句、8字一句。最长的半句有8个字。在[[诗经#首页 index|首页]]的内容区可以很好地展示。诗的专属页面主要是为了提供额外的内容，包括诗的解释、词的解释tooltip、通过标签等向其他内容的跳转。最主要的部分是诗的内容以及对词的标记和tooltip，其中每个有解释的词都要有标记，对于词和其中单字都有解释的，要显示所有标记。\n\n### 词页面(word/\\\u003cid\u003e)\n词的页面只显示解释就没有存在的必要了，解释以tooltip的形式存在在[[诗经#诗页面 shi id|诗页面]]已经足够。词页面应该要有跳转到关联的诗和词的链接，和[[诗经#诗页面 shi id|诗页面]]一起形成一个网络。\n\n### 标签页面(tag/\\\u003cid\u003e)\n和[[诗经#词页面 word id|词页面]]类似，要有跳转到关联项目的链接。\n\n## 数据库设计\n### Shis\n\u003cins\u003eid\u003c/ins\u003e | title | content | translation | chapter_id\n- title: 诗的标题\n- content: 诗全文\n- translation: 诗的释义\n- chapter_id: 诗的章节，记录many-to-one关系\n\n### Volumes\n\u003cins\u003eid\u003c/ins\u003e | name | description\n- name: 卷名\n- description: 卷的说明\n\n### Chapters\n\u003cins\u003eid\u003c/ins\u003e | name | description | vol_id\n- name: 章节名\n- description: 章节的说明\n- vol_id: 对应卷的id\n\n### Words\n\u003cins\u003ename\u003c/ins\u003e | description\n- name: 词本身 #red 没有调用\n- description: 词的解释\n\n### Word_in_Shi\n\u003cins\u003eword_id\u003c/ins\u003e | \u003cins\u003eshi_id\u003c/ins\u003e | \u003cins\u003epos\u003c/ins\u003e | len\n- 词跟诗的many-to-many关系\n- pos: 词在诗中的起始位置\n- len: 词的长度\n\n### Tags\n\u003cins\u003ename\u003c/ins\u003e\n- 为了列出所有标签，需要这个表\n- name: 标签本身\n\n### Tag_of_Word\n\u003cins\u003etag_id\u003c/ins\u003e | \u003cins\u003eword_id\u003c/ins\u003e\n- 标签跟词的many-to-many关系\n- 诗的标签是其中所有词的标签的集合\n\n## 接口设计\n### api/shi/id/\\\u003cshi_id\u003e\n**Return**\n```json\n{\n\t\"title\": str,\n\t\"content\": str,\n\t\"translation\": str\n}\n```\n- 只在[[诗经#诗页面 shi id|诗页面]]使用\n\n### api/shi/chapter/\\\u003cchapter_id\u003e\\[?start=\\\u003cint\u003e]\n**Return**\n```json\n{\n\t\"results\": [\n\t\t{\n\t\t\t\"title\": str,\n\t\t\t\"content\": str\n\t\t},\n\t\t...\n\t]\n}\n```\n- 在[[诗经#首页 index|主页面]]使用\n- start: 从第几个开始返回\n\n### api/shi/word/\\\u003cword_name\u003e\n**Return**\n```json\n{\n\t\"results\": [\n\t\t{\n\t\t\t\"id\": str,\n\t\t\t\"title\": str\n\t\t},\n\t\t...\n\t]\n}\n```\n- 在[[诗经#诗页面 shi id|词页面]]使用，返回含有这个词的所有诗的标题，以及生成超链接用的id\n\n### api/word/shi/\\\u003cshi_id\u003e\n**Return**\n```json\n{\n\t\"results\": [\n\t\t{\n\t\t\t\"id\": str,\n\t\t\t\"pos\": int,\n\t\t\t\"len\": int\n\t\t},\n\t\t...\n\t]\n}\n```\n- 在[[诗经#诗页面 shi id|诗页面]]获取诗的内容之后异步调用，获取诗中所有的关键词\n- id: `word_name`，之后用来获取词的解释\n\n### api/word/\\\u003cword_id\u003e\\[,\\\u003cword_id\u003e...]\n**Return**\n```json\n{\n\t\"description\": str,\n\t\"tags\": [str]\n}\n```\n- 在[[诗经#诗页面 shi id|词页面]]使用，获取一个词的解释和所有标签\n- 在[[诗经#诗页面 shi id|诗页面]]获取词之后异步调用，获取所有的标签。考虑到词的数量比较多，数据量不大，可以给出多个id同时获取\n\n### api/word/tag/\\\u003ctag_name\u003e\n**Return**\n```json\n{\n\t\"results\": [str]\n}\n```\n- 在[[诗经#诗页面 shi id|词页面]]和[[诗经#标签页面 tag id|标签页面]]使用，在获取标签后异步获取标签对应的其他词\n\n### api/chapters\n**Return**\n```json\n{\n\t\"volumes\": [str],\n\t\"chapters\": [str]\n}\n```\n- 在[[诗经#首页 index|主页面]]使用，获取所有的卷和章节\n","lastmodified":"2022-06-26T02:31:39.233598853Z","tags":null}}